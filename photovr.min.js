!function(){"use strict";function e(e){var t=e.hit&&e.hit.object;t&&(t===o?(n.teleport({x:0,y:0,z:0}),i.visible=!1):n.teleport(t.position))}WebVRStandardMonitor();var t=10,n=new Primrose.BrowserEnvironment({skyTexture:"images/bg.jpg",font:"helvetiker_regular.typeface.json",useGaze:isMobile,autoRescaleQuality:!0}),o=colored(cylinder(.1,.1,.1,36,36),16776960,{unshaded:!0});o.name="home";var i=hub();i.visible=!1,n.addEventListener("ready",function(){var e=document.getElementById("fsb");n.displays.forEach(function(t,o){var i=document.createElement("button");i.type="button",i.innerHTML=Primrose.Input.VR.isStereoDisplay(t)?"&#x1f453;":"&boxplus;",i.title=t.displayName,i.addEventListener("click",n.goFullScreen.bind(n,o)),e.appendChild(i)}),n.appendChild(o),n.scene.add(i),i.rotateX(-Math.PI/6),window.gazeTxt=colored(text3D(.25,"Gaze at feet to return to selection"),16777215),i.add(gazeTxt);var a=gazeTxt.geometry.boundingBox;gazeTxt.position.set(-a.max.x/2,n.avatarHeight,-t/2);var r=colored(box(1.1*a.max.x,1.3*a.max.y,.125),2249331,{side:THREE.BackSide,unshaded:!0});gazeTxt.add(r),r.position.set(a.max.x/2,a.max.y/2,0);var s=new Primrose.Controls.Progress;n.appendChild(s),s.position.set(0,n.avatarHeight,-1),Promise.all(["test1","test2","test3","test4","test5","test6","test7"].map(function(e){return new Primrose.Controls.Image({id:e,radius:2,unshaded:!0}).loadImages(["images/"+e+".jpg"],s.onProgress.bind(s))})).then(function(e){return e.forEach(function(o,i){n.appendChild(o);var a=i*(2*Math.PI/e.length);o.position.set(t*Math.cos(a),n.avatarHeight,t*Math.sin(a))})}).then(function(){return i.visible=!(s.visible=!1)})}),n.addEventListener("update",function(e){var t=n.input.head.position;o.position.set(t.x,0,t.z)}),n.addEventListener("gazecomplete",e),n.addEventListener("pointerend",e),"undefined"!=typeof window&&(window.app=n)}(),console.info("photovr v1.0.7. see https://github.com/NotionTheory/photoVR#readme for more information.");