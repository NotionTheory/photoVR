!function(){"use strict";function e(e){var t=e.hit&&e.hit.object;t&&(t===n?(o.teleport({x:0,y:0,z:0}),i.visible=!1):o.teleport(t.position))}WebVRStandardMonitor();var t=10,o=new Primrose.BrowserEnvironment({skyTexture:"images/bg.jpg",font:"helvetiker_regular.typeface.json",useGaze:isMobile,autoRescaleQuality:!0}),n=colored(box(.1,.1,.1),16776960,{unshaded:!0});n.name="home";var i=hub();i.visible=!1,o.addEventListener("ready",function(){var e=document.getElementById("fsb");o.displays.forEach(function(t,n){var i=document.createElement("button");i.type="button",i.innerHTML=Primrose.Input.VR.isStereoDisplay(t)?"&#x1f453;":"&boxplus;",i.title=t.displayName,i.addEventListener("click",o.goFullScreen.bind(o,n)),e.appendChild(i)}),o.appendChild(n),o.scene.add(i),i.rotateX(-Math.PI/6),window.gazeTxt=colored(text3D(.25,"Gaze at feet to return to selection"),16777215),i.add(gazeTxt);var a=gazeTxt.geometry.boundingBox;gazeTxt.position.set(-a.max.x/2,o.avatarHeight,-t/2);var r=colored(box(1.1*a.max.x,1.3*a.max.y,.125),2249331,{side:THREE.BackSide,unshaded:!0});gazeTxt.add(r),r.position.set(a.max.x/2,a.max.y/2,0);var s=new Primrose.Controls.Progress;o.appendChild(s),s.position.set(0,o.avatarHeight,-1),Promise.all(["test1","test2","test3","test4","test5","test6","test7"].map(function(e){return new Primrose.Controls.Image({id:e,radius:2,unshaded:!0}).loadImages(["images/"+e+".jpg"],s.onProgress.bind(s))})).then(function(e){return e.forEach(function(n,i){o.appendChild(n);var a=i*(2*Math.PI/e.length);n.position.set(t*Math.cos(a),o.avatarHeight,t*Math.sin(a))})}).then(function(){return i.visible=!(s.visible=!1)})}),o.addEventListener("update",function(e){var t=o.input.head.position;n.position.set(t.x,0,t.z)}),o.addEventListener("gazecomplete",e),o.addEventListener("pointerend",e),"undefined"!=typeof window&&(window.app=o)}(),console.info("photovr v1.0.8. see https://github.com/NotionTheory/photoVR#readme for more information.");