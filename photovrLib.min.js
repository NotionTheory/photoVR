!function(){"use strict";function e(e){console.log(e);var t=e.hit&&e.hit.object;t&&(t===o?(n.teleport({x:0,y:0,z:0}),a.visible=!1):n.teleport(t.position))}WebVRStandardMonitor();var t=10,n=new Primrose.BrowserEnvironment({skyTexture:"images/bg.jpg",font:"helvetiker_regular.typeface.json",useGaze:isMobile,progress:prog.thunk}),o=textured(box(.1,.1,.1),"images/home.png",{transparent:!0,unshaded:!0});o.name="home",o.position.set(0,0,-1),window.home=o;var a=hub();a.visible=!1,n.addEventListener("ready",function(){prog.bar.style.height="10px";var e=document.getElementById("fsb");n.displays.forEach(function(t,o){var a=document.createElement("button");a.type="button",a.innerHTML=Primrose.Input.VR.isStereoDisplay(t)?"&#x1f453;":"&boxplus;",a.title=t.displayName,a.addEventListener("click",n.goFullScreen.bind(n,o)),e.appendChild(a)}),n.ui.add(o),n.registerPickableObject(o),n.ui.add(a),a.rotateX(-Math.PI/6),window.gazeTxt=colored(text3D(.25,"Gaze at house icon to return to selection"),16777215),a.add(gazeTxt);var i=gazeTxt.geometry.boundingBox;gazeTxt.position.set(-i.max.x/2,n.avatarHeight,-t/2);var r=colored(box(1.1*i.max.x,1.3*i.max.y,.125),2249331,{side:THREE.BackSide,unshaded:!0});gazeTxt.add(r),r.position.set(i.max.x/2,i.max.y/2,0),Promise.all(["test1","test2","test3","test4","test5","test6","test7"].map(function(e){return new Primrose.Controls.Image({id:e,radius:2,unshaded:!0,pickable:!0}).loadImages(["images/"+e+".jpg"],prog.thunk)})).then(function(e){return e.forEach(function(o,a){n.appendChild(o);var i=a*(2*Math.PI/e.length);o.position.set(t*Math.cos(i),n.avatarHeight,t*Math.sin(i))})}).then(function(){a.visible=!0,prog.bar.style.display="none"})}),n.addEventListener("gazecomplete",e),n.addEventListener("pointerend",e),"undefined"!=typeof window&&(window.app=n)}();